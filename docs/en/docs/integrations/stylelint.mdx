import { PackageManagerTabs } from "@theme";
import { AvatarImage } from "../../../../theme/components/avatar-image";

<AvatarImage icon="stylelint" />

# Stylelint

Stylelint is a modern CSS linter that helps you enforce consistent conventions and avoid errors in your stylesheets. It supports various CSS preprocessors like Sass, Less, and even CSS-in-JS.

## Starter Stylelint Template

Extension.js includes a **New Tab** Stylelint template to quickly get started with linting your CSS files in new projects.

![Stylelint Extension Template](https://placehold.co/600x400)
{/* TODO: Replace with a relevant image showcasing the Stylelint template */}

### Try it yourself

<PackageManagerTabs
  command={{
    npm: "npx extension@latest create my-extension --template=new-stylelint",
    pnpm: "pnpx extension@latest create my-extension --template=new-stylelint",
    yarn: "yarn dlx extension@latest create my-extension --template=new-stylelint",
  }}
/>

## Usage With An Existing Extension

You can easily integrate Stylelint into your existing Extension.js project by installing the necessary dependencies and creating a configuration file.

### Installation

Install Stylelint and the required plugins:

<PackageManagerTabs
  command={{
    npm: "npx install -D stylelint stylelint-config-standard",
    pnpm: "pnpx install -D stylelint stylelint-config-standard",
    yarn: "yarn dlx install -D stylelint stylelint-config-standard",
  }}
/>

### Stylelint Configuration

Create a Stylelint configuration file (`.stylelintrc.json`) at the root of your project. Here's an example configuration that extends the standard Stylelint configuration:

```json
{
  "extends": "stylelint-config-standard",
  "rules": {
    "color-no-invalid-hex": true,
    "font-family-no-duplicate-names": true,
    "block-no-empty": true,
    "selector-pseudo-element-no-unknown": [
      true,
      { "ignorePseudoElements": ["v-deep"] }
    ],
    "declaration-block-no-duplicate-properties": true
  }
}
```

### Example Usage in a CSS File

Once Stylelint is configured, it will automatically check your CSS files for errors and inconsistencies. For example:

```diff
/* myComponent.css */

+ .primaryColor {
+   color: #000;
+ }
- .primaryColor {
-   color: #0000000; /* Invalid hex color, Stylelint will catch this */
- }
```

### Example Usage in a CSS Module

Stylelint also supports CSS modules. Here's how you can lint your `.module.css` files:

```css
/* myComponent.module.css */

.primaryButton {
  background-color: #3498db;
  color: #fff;
}
```

You can now run Stylelint to automatically lint your CSS and CSS Modules:

<PackageManagerTabs
  command={{
    npm: "stylelint '**/*.css'",
    pnpm: "stylelint '**/*.css'",
    yarn: "stylelint '**/*.css'",
  }}
/>

### Example Usage in a Sass or Less File

Stylelint can also be used with Sass or Less files:

```scss
/* myComponent.scss */

.primaryButton {
  background-color: $primary-color;
  color: #fff;
}
```

To lint Sass or Less files, install the necessary plugins:

<PackageManagerTabs
  command={{
    npm: "npx install -D stylelint-scss stylelint-less",
    pnpm: "pnpx install -D stylelint-scss stylelint-less",
    yarn: "yarn dlx install -D stylelint-scss stylelint-less",
  }}
/>

Now you can lint your Sass or Less files:

<PackageManagerTabs
  command={{
    npm: "stylelint '**/*.scss'",
    pnpm: "stylelint '**/*.scss'",
    yarn: "stylelint '**/*.scss'",
  }}
/>

## Integrating Stylelint with Prettier

You can integrate Stylelint with Prettier to automatically format and lint your styles. To do this, install the following dependencies:

<PackageManagerTabs
  command={{
    npm: "npx install -D stylelint-prettier prettier",
    pnpm: "pnpx install -D stylelint-prettier prettier",
    yarn: "yarn dlx install -D stylelint-prettier prettier",
  }}
/>

Then, update your `.stylelintrc.json` file to include Prettier:

```json
{
  "extends": ["stylelint-config-standard", "stylelint-prettier/recommended"]
}
```

Now, Stylelint will format and lint your styles based on Prettier rules.

## Next Steps

- Learn how to integrate [Prettier](./prettier.mdx) into your extension to ensure consistent code formatting.
